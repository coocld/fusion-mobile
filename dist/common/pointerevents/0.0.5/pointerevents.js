"use strict";define("common/pointerevents/pointerevents",function(){function e(e,n,t,c){var d={move:function(o){i(o,e,n,"move",d,t)},end:function(o){i(o,e,n,"end",d,t)},cancel:function(o){i(o,e,n,"cancel",d,t)}};c.addEventListener(o.move,d.move,{passive:!1}),c.addEventListener(o.end,d.end),d.cancel&&c.addEventListener(o.cancel,d.cancel)}function n(e,n){n.removeEventListener(o.move,e.move,{passive:!1}),n.removeEventListener(o.end,e.end),e.cancel&&n.removeEventListener(o.cancel,e.cancel)}function t(n,t,i,o){var c,d;if("pointerId"in n)t.call(o,{type:"start",id:n.pointerId,x:n.clientX,y:n.clientY,domEvent:n})&&(i.push(n.pointerId),1===i.length&&e(t,i,o,n.view));else if("changedTouches"in n)for(c=0;n.changedTouches.length>c;c++)d=n.changedTouches[c],t.call(o,{type:"start",id:d.identifier,x:d.clientX,y:d.clientY,domEvent:n})&&(i.push(d.identifier),1===i.length&&e(t,i,o,n.view));else t.call(o,{type:"start",id:void 0,x:n.clientX,y:n.clientY,domEvent:n})&&(i.push(void 0),1===i.length&&e(t,i,o,n.view))}function i(e,t,i,o,c,d){var r,v,l;if("pointerId"in e)v=i.indexOf(e.pointerId),0>v||(t.call(d,{type:o,id:e.pointerId,x:e.clientX,y:e.clientY,domEvent:e})||"move"!==o)&&(i.splice(v,1),i.length||n(c,e.view));else if("changedTouches"in e){for(r=0;e.changedTouches.length>r;r++)if(l=e.changedTouches[r],v=i.indexOf(l.identifier),v>=0&&(t.call(d,{type:o,id:l.identifier,x:l.clientX,y:l.clientY,domEvent:e})||"move"!==o)&&(i.splice(v,1),!i.length)){n(c,e.view);break}}else v=i.indexOf(void 0),0>v||(t.call(d,{type:o,id:void 0,x:e.clientX,y:e.clientY,domEvent:e})||"move"!==o)&&(i.splice(v,1),i.length||n(c,e.view))}var o,c;return"ontouchstart"in window?o={start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}:window.PointerEvent?(o={start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"},c="touchAction"):window.MSPointerEvent?(o={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp",cancel:"MSPointerCancel"},c="msTouchAction"):o={start:"mousedown",move:"mousemove",end:"mouseup"},function(e,n){function i(e){t(e,n,d.pointers,d)}var d={pointers:[],destory:function(){e.removeEventListener(o.start,i,!1)}};return c&&(e.style[c]="none"),e.addEventListener(o.start,i,!1),d}});