"use strict";define("common/pointerevents/pointerevents",function(){function e(e,n,t){var c={move:function(i){o(i,e,n,"move",c,t)},end:function(i){o(i,e,n,"end",c,t)},cancel:function(i){o(i,e,n,"cancel",c,t)}};document.addEventListener(i.move,c.move,{passive:!1}),document.addEventListener(i.end,c.end),c.cancel&&document.addEventListener(i.cancel,c.cancel)}function n(e){document.removeEventListener(i.move,e.move,{passive:!1}),document.removeEventListener(i.end,e.end),e.cancel&&document.removeEventListener(i.cancel,e.cancel)}function t(n,t,o,i){var c,d;if("pointerId"in n)t.call(i,{type:"start",id:n.pointerId,x:n.clientX,y:n.clientY,domEvent:n})&&(o.push(n.pointerId),1===o.length&&e(t,o,i));else if("changedTouches"in n)for(c=0;n.changedTouches.length>c;c++)d=n.changedTouches[c],t.call(i,{type:"start",id:d.identifier,x:d.clientX,y:d.clientY,domEvent:n})&&(o.push(d.identifier),1===o.length&&e(t,o,i));else t.call(i,{type:"start",id:void 0,x:n.clientX,y:n.clientY,domEvent:n})&&(o.push(void 0),1===o.length&&e(t,o,i))}function o(e,t,o,i,c,d){var r,l,s;if("pointerId"in e)l=o.indexOf(e.pointerId),0>l||(t.call(d,{type:i,id:e.pointerId,x:e.clientX,y:e.clientY,domEvent:e})||"move"!==i)&&(o.splice(l,1),o.length||n(c));else if("changedTouches"in e){for(r=0;e.changedTouches.length>r;r++)if(s=e.changedTouches[r],l=o.indexOf(s.identifier),l>=0&&(t.call(d,{type:i,id:s.identifier,x:s.clientX,y:s.clientY,domEvent:e})||"move"!==i)&&(o.splice(l,1),!o.length)){n(c);break}}else l=o.indexOf(void 0),0>l||(t.call(d,{type:i,id:void 0,x:e.clientX,y:e.clientY,domEvent:e})||"move"!==i)&&(o.splice(l,1),o.length||n(c))}var i,c;return"ontouchstart"in window?i={start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}:window.PointerEvent?(i={start:"pointerdown",move:"pointermove",end:"pointerup",cancel:"pointercancel"},c="touchAction"):window.MSPointerEvent?(i={start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp",cancel:"MSPointerCancel"},c="msTouchAction"):i={start:"mousedown",move:"mousemove",end:"mouseup"},function(e,n){function o(e){t(e,n,d.pointers,d)}var d={pointers:[],destory:function(){e.removeEventListener(i.start,o,!1)}};return c&&(e.style[c]="none"),e.addEventListener(i.start,o,!1),d}});